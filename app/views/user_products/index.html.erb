<div class="header_wrapper">
  <h3><%= @user.name %>'s <%= @category.name %> collection.</h3>
</div>

  <% if @user_products.count == 0 %>
    <h5>You don't have any products in your collection.</h5>
    <% elsif @user_products.count == 1 %>
    <h5>You have <%= @user_products.count %> product in your collection!</h5>
    <% else %>
    <h5>You have <%= @user_products.count %> products in your collection!</h5>
  <% end %>

<div class="user_products_wrapper">
  <table class="table table-hover">
    <% @user_products.each do |user_product| %>
    <tr>
      <td><%= user_product.product.name %></td>
      <td>$<%= user_product.price %></td>
      <td><%= link_to "Delete", user_product_path(user_product), method: :delete, class: "btn btn-outline-danger btn-sm" %>
    </tr>
    <% end %>
  </table>
</div>

<p>The total value of your collection is <%= @user_products.reduce(0) {|sum, user_product| sum + user_product.price } %></p>


<p><%= link_to "Add products to this category",  category_products_path(@category) %></p>
<%= link_to "Back", user_path(@user), class: "btn btn-light" %>
